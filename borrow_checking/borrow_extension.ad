fn main()
{
    let a: mut Test = new Test();
    let y: Test;
    if false
    {
        // share
        let x = a;
        // re-share with y, hence extending the share
        y = x;
    }

    mutable_borrow(mut a); // ERROR `a` is shared by `y`
    immutable_borrow(y);
}

public mut class Test
{
}

public fn immutable_borrow(t: Test)
{
}

public fn mutable_borrow(t: mut Test)
{
}
